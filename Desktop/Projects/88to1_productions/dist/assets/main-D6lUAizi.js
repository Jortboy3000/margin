import{L}from"./lenis-BRqnZd4Q.js";import{H as c}from"./hls-Cp2x8l1r.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();class v{constructor(e={}){this.options={rootMargin:e.rootMargin||"50px",threshold:e.threshold||.25,autoplay:e.autoplay!==!1,unloadOnExit:e.unloadOnExit||!1,...e},this.observer=null,this.videos=new Map,this.init()}init(){this.observer=new IntersectionObserver(e=>this.handleIntersection(e),{rootMargin:this.options.rootMargin,threshold:this.options.threshold}),this.discoverVideos()}discoverVideos(){document.querySelectorAll("video[data-lazy]").forEach(n=>this.observe(n))}observe(e){!e||this.videos.has(e)||(this.videos.set(e,{loaded:!1,playing:!1,originalSrc:e.dataset.src||null}),this.observer.observe(e))}unobserve(e){e&&(this.observer.unobserve(e),this.videos.delete(e))}handleIntersection(e){e.forEach(n=>{const t=n.target,r=this.videos.get(t);r&&(n.isIntersecting?this.loadVideo(t,r):this.options.unloadOnExit?this.unloadVideo(t,r):r.playing&&(t.pause(),r.playing=!1))})}loadVideo(e,n){if(n.loaded){this.options.autoplay&&!n.playing&&(e.play().catch(r=>{console.warn("Video autoplay failed:",r)}),n.playing=!0);return}const t=e.querySelectorAll("source[data-src]");t.length>0?t.forEach(r=>{r.src=r.dataset.src,r.removeAttribute("data-src")}):n.originalSrc&&(e.src=n.originalSrc),e.load(),n.loaded=!0,this.options.autoplay&&e.addEventListener("loadeddata",()=>{e.play().catch(r=>{console.warn("Video autoplay failed:",r)}),n.playing=!0},{once:!0}),e.removeAttribute("data-lazy")}unloadVideo(e,n){if(!n.loaded)return;e.pause(),e.currentTime=0,e.removeAttribute("src"),e.querySelectorAll("source").forEach(r=>{r.removeAttribute("src")}),e.load(),n.loaded=!1,n.playing=!1}destroy(){this.observer.disconnect(),this.videos.clear()}}let u=null;function g(o){return u&&u.destroy(),u=new v(o),u}typeof window<"u"&&(window.LazyVideoLoader=v,window.initLazyVideos=g);const h={libraryId:"571362",cdnHostname:"vz-e3f7e942-92b.b-cdn.net"};function E(){return!h.libraryId.startsWith("YOUR_")&&!h.cdnHostname.startsWith("vz-YOUR-")}var S="@vercel/analytics",M="1.6.1",A=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function p(){return typeof window<"u"}function b(){try{const o="production"}catch{}return"production"}function O(o="auto"){if(o==="auto"){window.vam=b();return}window.vam=o}function x(){return(p()?window.vam:b())||"production"}function m(){return x()==="development"}function V(o){return o.scriptSrc?o.scriptSrc:m()?"https://va.vercel-scripts.com/v1/script.debug.js":o.basePath?`${o.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function k(o={debug:!0}){var e;if(!p())return;O(o.mode),A(),o.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",o.beforeSend));const n=V(o);if(document.head.querySelector(`script[src*="${n}"]`))return;const t=document.createElement("script");t.src=n,t.defer=!0,t.dataset.sdkn=S+(o.framework?`/${o.framework}`:""),t.dataset.sdkv=M,o.disableAutoTrack&&(t.dataset.disableAutoTrack="1"),o.endpoint?t.dataset.endpoint=o.endpoint:o.basePath&&(t.dataset.endpoint=`${o.basePath}/insights`),o.dsn&&(t.dataset.dsn=o.dsn),t.onerror=()=>{const r=m()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${r}`)},m()&&o.debug===!1&&(t.dataset.debug="false"),document.head.appendChild(t)}k();console.log("88to1 Productions - Loaded");const I=new L({duration:1.2,easing:o=>Math.min(1,1.001-Math.pow(2,-10*o)),direction:"vertical",gestureDirection:"vertical",smooth:!0,mouseMultiplier:1,smoothTouch:!1,touchMultiplier:2});function w(o){I.raf(o),requestAnimationFrame(w)}requestAnimationFrame(w);const P=window.matchMedia("(max-width: 768px)").matches;function T(){document.querySelectorAll("video[data-hls]").forEach(e=>{const n=e.dataset.src;if(n)if(c.isSupported()){const t=new c({enableWorker:!0,lowLatencyMode:!1,maxBufferLength:30,maxMaxBufferLength:60,maxBufferSize:6e7,maxBufferHole:.5,abrEwmaDefaultEstimate:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:3,levelLoadingTimeOut:1e4,fragLoadingTimeOut:2e4,startLevel:-1,nudgeOffset:.1,nudgeMaxRetry:3,fragLoadingMaxRetry:6,levelLoadingMaxRetry:4});t.loadSource(n),t.attachMedia(e),t.on(c.Events.MANIFEST_PARSED,()=>{console.log("HLS stream ready:",n),console.log("Available qualities:",t.levels.map(r=>`${r.height}p`))}),t.on(c.Events.LEVEL_SWITCHED,(r,s)=>{const i=t.levels[s.level];console.log(`Quality switched to: ${i.height}p`)}),t.on(c.Events.ERROR,(r,s)=>{if(s.fatal)switch(console.error("HLS fatal error:",s),s.type){case c.ErrorTypes.NETWORK_ERROR:console.log("Network error, trying to recover..."),t.startLoad();break;case c.ErrorTypes.MEDIA_ERROR:console.log("Media error, trying to recover..."),t.recoverMediaError();break;default:const i=e.dataset.fallback;i&&(console.log("Falling back to MP4"),t.destroy(),e.src=i);break}}),e.hlsInstance=t}else if(e.canPlayType("application/vnd.apple.mpegurl"))e.src=n;else{const t=e.dataset.fallback;t&&(e.src=t)}})}const f=document.querySelector(".cursor-dot"),y=document.querySelector(".cursor-outline");f&&y&&(window.addEventListener("mousemove",e=>{const n=e.clientX,t=e.clientY;f.style.left=`${n}px`,f.style.top=`${t}px`,y.animate({left:`${n}px`,top:`${t}px`},{duration:500,fill:"forwards"})}),document.querySelectorAll("a, button, .menu-link, .video-card").forEach(e=>{e.addEventListener("mouseenter",()=>document.body.classList.add("hovering")),e.addEventListener("mouseleave",()=>document.body.classList.remove("hovering"))}));const B={root:null,rootMargin:"0px",threshold:.1},q=new IntersectionObserver((o,e)=>{o.forEach(n=>{n.isIntersecting&&(n.target.classList.add("in-view"),e.unobserve(n.target))})},B);document.addEventListener("DOMContentLoaded",()=>{g({rootMargin:"100px",threshold:.25,autoplay:!0,unloadOnExit:!1}),E()&&T(),document.querySelectorAll("section > .container > *, article").forEach((i,a)=>{i.classList.add("fade-in-section"),i.style.transitionDelay=`${a%3*100}ms`,q.observe(i)});const e=document.getElementById("intro");e&&setTimeout(()=>{e.classList.add("tv-off"),setTimeout(()=>{e.style.display="none"},600)},P?2500:4e3);const n=document.querySelector(".hamburger-btn"),t=document.getElementById("menu-overlay"),r=document.querySelectorAll(".menu-link"),s=document.getElementById("main-logo");if(n&&t&&s){n.addEventListener("click",()=>{const l=n.classList.toggle("active");t.classList.toggle("active"),s.classList.toggle("centered"),document.body.style.overflow=l?"hidden":""}),r.forEach(l=>{l.addEventListener("click",()=>{n.classList.remove("active"),t.classList.remove("active"),s.classList.remove("centered"),document.body.style.overflow=""})}),s.addEventListener("click",l=>{(window.location.pathname.endsWith("index.html")||window.location.pathname==="/")&&(l.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})),t.classList.contains("active")&&(n.classList.remove("active"),t.classList.remove("active"),s.classList.remove("centered"),document.body.style.overflow="")});const i=document.getElementById("featured-video"),a=document.getElementById("play-pause-btn"),d=document.getElementById("mute-btn");i&&a&&d&&(a.addEventListener("click",()=>{i.paused?(i.play(),a.textContent="PAUSE",a.setAttribute("aria-label","Pause Video")):(i.pause(),a.textContent="PLAY",a.setAttribute("aria-label","Play Video"))}),d.addEventListener("click",()=>{i.muted=!i.muted,d.textContent=i.muted?"UNMUTE":"MUTE",d.setAttribute("aria-label",i.muted?"Unmute Video":"Mute Video")}))}});
